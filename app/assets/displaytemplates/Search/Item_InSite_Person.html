<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"> 
<head>
    <title>People InSite Item</title>

    <!--[if gte mso 9]>
        <xml>
        <mso:CustomDocumentProperties>
            <mso:TemplateHidden msdt:dt="string">0</mso:TemplateHidden>
            <mso:MasterPageDescription msdt:dt="string">Displays a result tailored for a person.</mso:MasterPageDescription>
            <mso:ContentTypeId msdt:dt="string">0x0101002039C03B61C64EC4A04F5361F385106603</mso:ContentTypeId>
            <mso:TargetControlType msdt:dt="string">;#SearchResults;#</mso:TargetControlType>
            <mso:HtmlDesignAssociated msdt:dt="string">1</mso:HtmlDesignAssociated>
            <mso:CrawlerXSLFile msdt:dt="string"></mso:CrawlerXSLFile>
            <mso:ManagedPropertyMapping msdt:dt="string">                &#39;AboutMe&#39;:&#39;AboutMe&#39;,
                &#39;AccountName&#39;:&#39;AccountName&#39;,
                &#39;BaseOfficeLocation&#39;:&#39;BaseOfficeLocation&#39;,
                &#39;Department&#39;:&#39;Department&#39;,
                &#39;HitHighlightedProperties&#39;:&#39;HitHighlightedProperties&#39;,
                &#39;Interests&#39;:&#39;Interests&#39;,
                &#39;JobTitle&#39;:&#39;JobTitle&#39;,
                &#39;LastModifiedTime&#39;:&#39;LastModifiedTime&#39;,
                &#39;Memberships&#39;:&#39;Memberships&#39;,
                &#39;PastProjects&#39;:&#39;PastProjects&#39;,
                &#39;Path&#39;:&#39;Path&#39;,
                &#39;PictureURL&#39;:&#39;PictureURL&#39;,
                &#39;PreferredName&#39;:&#39;PreferredName&#39;,
                &#39;Responsibilities&#39;:&#39;Responsibilities&#39;,
                &#39;Schools&#39;:&#39;Schools&#39;,
                &#39;ServiceApplicationID&#39;:&#39;ServiceApplicationID&#39;,
                &#39;SipAddress&#39;:&#39;SipAddress&#39;,
                &#39;Skills&#39;:&#39;Skills&#39;,
                &#39;UserProfile_GUID&#39;:&#39;UserProfile_GUID&#39;,
                &#39;WorkPhone&#39;:&#39;WorkPhone&#39;,
                &#39;WorkEmail&#39;:&#39;WorkEmail&#39;,
                &#39;WorkId&#39;:&#39;WorkId&#39;,
                &#39;YomiDisplayName&#39;:&#39;YomiDisplayName&#39;
            </mso:ManagedPropertyMapping>
        <mso:HtmlDesignStatusAndPreview msdt:dt="string">https://insite-at.leeds.gov.uk/_catalogs/masterpage/Display Templates/Search/Item_InSite_Person.html, Conversion successful.</mso:HtmlDesignStatusAndPreview>
<mso:HtmlDesignConversionSucceeded msdt:dt="string">True</mso:HtmlDesignConversionSucceeded>
<mso:HtmlDesignPreviewUrl msdt:dt="string"></mso:HtmlDesignPreviewUrl>
</mso:CustomDocumentProperties>
        </xml>
    <![endif]-->
</head>
<body>
    <div id="Item_Person">
<!--#_ 
                    if(!$isNull(ctx.CurrentItem) && !$isNull(ctx.ClientControl)){
                        var id = ctx.ClientControl.get_nextUniqueId();
                        var itemId = id + Srch.U.Ids.item;
                        var hoverId = id + Srch.U.Ids.hover;
                        $setResultItem(itemId, ctx.CurrentItem);
                        var container_id = id + "_peopleContainer";
                        var hhProps = Srch.U.createXMLDocument("<root>" + ctx.CurrentItem.HitHighlightedProperties + "</root>");
                        var encodedPath = $urlHtmlEncode(ctx.CurrentItem.Path);
                        var has_pn = !$isEmptyString(ctx.CurrentItem.PreferredName);
                        var has_sip = !$isEmptyString(ctx.CurrentItem.SipAddress);
                        var has_workphone = !$isEmptyString(ctx.CurrentItem.WorkPhone);
                        var has_email = !$isEmptyString(ctx.CurrentItem.WorkEmail);
                        var has_jt = !$isEmptyString(ctx.CurrentItem.JobTitle);
                        var has_dp = !$isEmptyString(ctx.CurrentItem.Department);
                        var has_abme = !$isEmptyString(ctx.CurrentItem.AboutMe);
                        var has_resp = !$isEmptyString(ctx.CurrentItem.Responsibilities);
                        var has_pp = !$isEmptyString(ctx.CurrentItem.PastProjects);
                        var has_ski = !$isEmptyString(ctx.CurrentItem.Skills);
                        var has_sch = !$isEmptyString(ctx.CurrentItem.Schools);
                        var has_int = !$isEmptyString(ctx.CurrentItem.Interests);
                        var has_vlm = !$isEmptyString(ctx.CurrentItem.ProfileViewsLastMonth);
                        var has_vlw = !$isEmptyString(ctx.CurrentItem.ProfileViewsLastWeek);
                        var has_query = !$isEmptyString(ctx.CurrentItem.ProfileQueriesFoundYou); 
                        var isSelfSrch = (has_vlm == true || has_vlw == true || has_query == true);
                        var delimiter = "";
                        var userPersonaId = $htmlEncode(id) + "_peopleUserPersona";
                        var uSip = ctx.CurrentItem.SipAddress;
                        var uWorkPhone = ctx.CurrentItem.WorkPhone;
                        var uEmail = ctx.CurrentItem.WorkEmail;
                        var uName = ctx.CurrentItem.PreferredName;
                        var uPicUrl = ctx.CurrentItem.PictureURL;
                        var hoverUrl = "~sitecollection/_catalogs/masterpage/Display Templates/Search/Item_Person_HoverPanel.js";
_#-->
                        <div id="_#= $htmlEncode(container_id) =#_" class="ms-srch-people-outerContainer ms-srch-resultHover row">
                            <div id="_#= $htmlEncode(itemId) =#_" name="Item" class="ms-srch-people-item" onmouseover="EnsureScriptParams('SearchUI.js', 'HP.Init', event, '_#=$scriptEncode(itemId) =#_', '_#=$scriptEncode(hoverId) =#_', '_#=$scriptEncode(hoverUrl) =#_');" onmouseout="EnsureScriptParams('SearchUI.js', 'HP.Hide');">
                            <div id="_#= $htmlEncode(hoverId) =#_" class="ms-srch-hover-outerContainer"></div>
                            <div class="row">
                                    <div class="col-sm-3">
                                        <div id="UserPersonaContainer">
                                            <div id="UserPersona">
                                                <div id="_#= userPersonaId =#_">
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="col-sm-9">
                                            <div>
                                                    <div id="ContactInfo">
                                                        <div id="NameField">
                                <!--#_ 
                                                            var encodedName = (has_pn == true) ? $htmlEncode(ctx.CurrentItem.PreferredName) : $htmlEncode(ctx.CurrentItem.YomiDisplayName);
                                                            var displayName = Srch.U.getSingleHHXMLNodeValue(hhProps, "preferredname");
                                                            if ($isEmptyString(displayName)) { displayName = encodedName }
                                _#-->
                                                            <div id="NameValue" class="ms-srch-ellipsis ms-textLarge">
                                                                <a clicktype="Result" id="NameFieldLink" href="_#= encodedPath =#_" title="_#= encodedName =#_">_#= displayName =#_</a>
                                                            </div>
                                                        </div>
                                <!--#_ 
                                                        if(has_jt == true) {
                                _#-->
                                                            <div id="JobTitleField">
                                <!--#_ 
                                                                var encodedJtitle = $htmlEncode(ctx.CurrentItem.JobTitle);
                                                                var displayJtitle = Srch.U.getSingleHHXMLNodeValue(hhProps, "jobtitle");
                                                                if ($isEmptyString(displayJtitle)) { displayJtitle = encodedJtitle }
                                _#--> 
                                                                <div id="JobTitleValue" class="ms-srch-ellipsis" title="_#= encodedJtitle =#_"><small> _#= displayJtitle =#_ </small></div>
                                                            </div>
                                <!--#_ 
                                                        }
                                _#-->
                                <!--#_ 
                                                        if(has_dp == true) {
                                _#-->
                                                            <div id="DepartmentField" style="padding-bottom: 0.25em">
                                <!--#_ 
                                                                var encodedDept = $htmlEncode(ctx.CurrentItem.Department);
                                                                var displayDept = Srch.U.getSingleHHXMLNodeValue(hhProps, "department");
                                                                if ($isEmptyString(displayDept)) { displayDept = encodedDept }
                                _#--> 
                                                                <div id="DepartmentValue" class="ms-srch-ellipsis" title="_#= encodedDept =#_"><small> _#= displayDept =#_ </small></div>
                                                            </div>
                                <!--#_ 
                                                        }
                                _#-->
                                <!--#_ 
                                                        if(has_workphone == true) {
                                _#-->
                                                            <div id="WorkPhoneField">
                                                        
                                                                <a href="tel:_#= uWorkPhone =#_">
                                                                    _#= uWorkPhone =#_
                                                                </a>

                                                            </div>
                                <!--#_ 
                                                        }
                                _#-->
                                <!--#_ 
                                                        if(has_email == true) {
                                _#-->
                                                            <div id="WorkEmailField">
                                
                                                                <a href="mailto:_#= uEmail =#_">
                                                                    _#= uEmail =#_
                                                                </a>

                                                            </div>
                                <!--#_ 
                                                        }
                                _#-->
                                                    </div>
                                
                                
                                <!--#_ 
                                                    if(isSelfSrch == true) {
                                _#-->
                                                        <hr class="ms-srch-people-item-separator" />
                                                        <div id="SelfSearchInfo">
                                                            <div id="Heading">
                                                                <a id="EditProfileLink" href="_#= $urlHtmlEncode(ctx.CurrentItem.EditProfileUrl) =#_"> _#= $htmlEncode(Srch.Res.item_People_EditProfileLink) =#_ </a>
                                                            </div>
                                                            <div id="Frequency">
                                                                <span id="FieldTitle" class="ms-soften"> _#= $htmlEncode(Srch.Res.item_People_SelfSearchFrequency) =#_ </span>
                                                                <ul id="FrequencyCard">
                                                                    <li id="MonthlyViews">
                                <!--#_ 
                                                                        var encodedVal = (ctx.CurrentItem.ProfileViewsLastMonth == 1) ? $htmlEncode(String.format(Srch.Res.item_People_SelfSearchFrequency_ViewsMonths_Singular, ctx.CurrentItem.ProfileViewsLastMonth)) : 
                                                                            $htmlEncode(String.format(Srch.Res.item_People_SelfSearchFrequency_ViewsMonths_Plural, ctx.CurrentItem.ProfileViewsLastMonth));
                                _#-->
                                                                           _#= encodedVal =#_  
                                                                    </li>
                                                                    <li id="DailyViews">
                                <!--#_ 
                                                                        var encodedVal = (ctx.CurrentItem.ProfileViewsLastWeek == 1) ? $htmlEncode(String.format(Srch.Res.item_People_SelfSearchFrequency_ViewsWeeks_Singular, ctx.CurrentItem.ProfileViewsLastWeek)) :
                                                                            $htmlEncode(String.format(Srch.Res.item_People_SelfSearchFrequency_ViewsWeeks_Plural, ctx.CurrentItem.ProfileViewsLastWeek));
                                _#-->
                                                                        _#= encodedVal =#_  
                                                                    </li>
                                                                </ul>
                                                            </div>
                                <!--#_ 
                                                            if(has_query == true) {
                                _#-->                                        
                                                                <div id="Keywords">
                                                                    <span id="FieldTitle" class="ms-soften"> _#= $htmlEncode(Srch.Res.item_People_SelfSearchKeywords) =#_ </span>
                                <!--#_ 
                                                                    var encodedVal = $htmlEncode(Srch.U.getTrimmedString(Srch.U.getUnEncodedMultiValuedResults(ctx.CurrentItem.ProfileQueriesFoundYou, 5, delimiter), 84));
                                                                    if (!Srch.U.e(encodedVal)) {
                                _#-->
                                                                        _#= encodedVal =#_
                                <!--#_ 
                                                                    } 
                                _#-->
                                                                </div>    
                                <!--#_ 
                                                            } 
                                _#-->
                                <!--#_
                                                            if(!Srch.U.n(ctx.CurrentItem.LastModifiedTime))
                                                            {
                                                                var lastModifiedTime = ctx.CurrentItem.LastModifiedTime;
                                                                var encodedLastModifiedTimeId = $htmlEncode(id + "_lastModifiedTime");
                                                                AddPostRenderCallback(ctx, function()
                                                                {
                                                                    Srch.U.renderFriendlyTimeIntervalString(lastModifiedTime, encodedLastModifiedTimeId);
                                                                });
                                _#-->
                                                                <div id="LastModifiedTime"> 
                                                                    <span class="ms-textSmall">_#= $htmlEncode(Srch.Res.item_People_LastModified) =#_</span>
                                                                    <span id="_#= encodedLastModifiedTimeId =#_" class="ms-textSmall ms-srch-ellipsis"></span>
                                                                </div>
                                <!--#_
                                                            }
                                _#-->
                                                        </div>
                                <!--#_ 
                                                    } 
                                _#-->
                                                </div>
                                    </div>
                                </div>
                            </div>
                        </div>
<!--#_
                    AddPostRenderCallback(ctx, function(){
                        EnsureScriptFunc("clienttemplates.js", "RenderUserFieldWorker", function() {
                            var getUserPersona = function() {
                                var renderCtx = new ContextInfo();
                                renderCtx.Templates = {};
                                renderCtx.Templates["Fields"] = {};
                                var fieldSchemaData = { "PictureOnly":"1", "PictureSize": "Size_72px"};
                                var listSchema = {"EffectivePresenceEnabled": "1", "PresenceAlt": Srch.Res.item_People_NoPresenceAvailable};
                                var userData = {"title": uName, "email": uEmail, "picture": uPicUrl, "sip": uSip};
                                var personaControlElement = document.getElementById(userPersonaId);
                                if (!Srch.U.n(personaControlElement))
                                {
                                    personaControlElement.innerHTML = RenderUserFieldWorker(renderCtx, fieldSchemaData, userData, listSchema);
                                }
                                if (typeof(ProcessImn) != "undefined") { ProcessImn(); }
                            };
                            getUserPersona();
                        });
                    });
_#-->                        
<!--#_ 
                } 
_#-->
    </div>
</body>
</html>
